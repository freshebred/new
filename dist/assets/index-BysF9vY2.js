(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const f=[{timestamp:5,question:"What type of environment is shown in the video?",options:["Ocean","Lake","River","Pool"],correctAnswer:0},{timestamp:15,question:"What color is most prominent in the underwater scene?",options:["Red","Green","Blue","Yellow"],correctAnswer:2},{timestamp:25,question:"What marine life can be seen in the video?",options:["Dolphins","Fish","Whales","Sharks"],correctAnswer:1}],p={quizzes:f},y={controls:!0,fluid:!0,playbackRates:[.5,1,1.5,2],autoplay:!0,controlBar:{skipButtons:!1,seekBar:!1,progressControl:!1}};class h{constructor(){this.currentScore=0,this.answeredQuestions=new Set,this.currentQuizIndex=null}showQuiz(e,r){const i=document.getElementById("quiz-modal"),t=document.getElementById("question-text"),n=document.getElementById("options-container"),c=document.getElementById("retry-message");this.currentQuizIndex=r,t.textContent=e.question,n.innerHTML="",c.textContent="",e.options.forEach((u,l)=>{const a=document.createElement("button");a.className="option-button",a.textContent=u,a.onclick=()=>this.handleAnswer(l===e.correctAnswer,a,e),n.appendChild(a)}),i.style.display="block",document.fullscreenElement&&document.fullscreenElement.appendChild(i)}handleAnswer(e,r,i){const t=document.getElementById("quiz-modal"),n=document.getElementById("score"),c=document.getElementById("retry-message"),u=document.querySelectorAll(".option-button");u.forEach(l=>l.disabled=!0),r.classList.add(e?"correct":"incorrect"),e?(this.currentScore+=10,n.textContent=this.currentScore,this.answeredQuestions.add(this.currentQuizIndex),setTimeout(()=>{t.style.display="none",t.parentElement!==document.body&&document.body.appendChild(t),window.player.play()},1500)):(c.textContent="Incorrect! Try again.",setTimeout(()=>{u.forEach(l=>{l.disabled=!1,l.classList.remove("incorrect")})},1500))}}class g{constructor(e){this.videoElement=e,this.container=document.querySelector(".video-container")}async requestFullscreen(){try{return document.fullscreenEnabled?(await this.container.requestFullscreen(),!0):(console.warn("Fullscreen not supported"),!1)}catch(e){return console.error("Fullscreen request failed:",e),!1}}handleFullscreenChange(){const e=document.fullscreenElement!==null;this.container.classList.toggle("fullscreen",e),document.body.classList.toggle("in-fullscreen",e)}init(){document.addEventListener("fullscreenchange",()=>this.handleFullscreenChange())}}let s,d;const m=new h;async function w(){const o=document.getElementById("start-screen"),e=document.querySelector(".container");o.style.display="none",e.style.display="block",await E()}async function E(){s=videojs("my-video",y),window.player=s;const o=document.querySelector("#my-video");d=new g(o),d.init(),await d.requestFullscreen()&&s.play(),s.on("timeupdate",b)}function b(){const o=Math.floor(s.currentTime());p.quizzes.forEach((e,r)=>{o===e.timestamp&&!m.answeredQuestions.has(r)&&(s.pause(),m.showQuiz(e,r))})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("start-button").addEventListener("click",w)});window.addEventListener("beforeunload",()=>{s&&s.dispose()});
